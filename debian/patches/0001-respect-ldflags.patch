From: Debian Science Maintainers
 <debian-science-maintainers@lists.alioth.debian.org>
Date: Thu, 14 Sep 2023 11:55:37 +0000
Subject: Replace LDFLAGS

Forwarded: no
Last-Update: 2021-12-20

Inject LDFLAGS into compiler linker option in CMakeLists.txt
Last-Update: 2021-12-20
---
 CMakeLists.txt | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -304,7 +304,7 @@
   endif()
   set(CMAKE_CXX_FLAGS_RELWITHDEBINFO "${CMAKE_CXX_FLAGS_RELEASE} ${CMAKE_CXX_FLAGS_DEBUG}")
   set(CMAKE_CXX_FLAGS_PROFILE "${CMAKE_CXX_FLAGS_DEBUG} -pg")
-  set(CMAKE_SHARED_LINKER_FLAGS "-Wl,--no-undefined")
+  set(CMAKE_SHARED_LINKER_FLAGS "-Wl,--no-undefined $ENV{LDFLAGS}")
 
   # Enforce to colorize compilation output
   if(${DART_FORCE_COLORED_OUTPUT})
